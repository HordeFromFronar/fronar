<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Generate an event 
//global.event_id = 3;
global.event_id = generateEvent();

//Don't shuffle if we're on a continuing event
if(global.next_event == -1) {
    global.eventCharList = global.charList;
    i = 0;
    len = ds_list_size(global.eventCharList);
    
    for (i=0;i&lt;len;i++) {
        if(ds_list_find_value(ds_list_find_value(global.eventCharList, i), 7) == 0) {
            ds_list_delete(global.eventCharList, i);
        }
    }
    
    ds_list_shuffle(global.eventCharList);
}
global.event_part2 = false;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw the event
//Draw the Background for the event
depth = 1;
draw_set_colour(c_black);
x1 = 5*32;
y1 = 5*32;
x2 = 1280-5*32;
y2 = 720-3*32;
draw_rectangle(x1, y1, x2, y2, false);

draw_set_colour(c_white);
switch(global.event_id){
    case 0:
        //Abandoned Shack        
        draw_text(x1+32, y1+32, getEventText());
        obj_event_option_1.text = "Give the bayonet to " +  ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 1);
        obj_event_option_2.text = "Give the bayonet to " +  ds_list_find_value(ds_list_find_value(global.eventCharList, 1), 1);
        obj_event_option_3.text = "Give the bayonet to " +  ds_list_find_value(ds_list_find_value(global.eventCharList, 2), 1);
        obj_event_option_1.charId = 0;
        obj_event_option_2.charId = 1;
        obj_event_option_3.charId = 2;
        obj_event_option_1.y1 = 10*32;
        obj_event_option_2.y1 = 11*32;
        obj_event_option_3.y1 = 12*32;
        if(global.event_part2){
            //Display the second part of the scenario
            depth = -1;
            draw_set_colour(c_white);
            draw_text(x1 + 32, y1 + 4*32, getEventTextPart2());
            obj_event_continue.visible = true;
        }
        break;
    case 1:
        //Spike Pit
        draw_text(x1+32, y1+32, getEventText());
        obj_event_option_1.text = "Leave the rations and continue on.";
        obj_event_option_2.text = "Send " + ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 1) + " to retrieve the rations.";
        obj_event_option_3.text = "Send " + ds_list_find_value(ds_list_find_value(global.eventCharList, 1), 1) + " to retrieve the rations.";
        obj_event_option_2.charId = 0;
        obj_event_option_3.charId = 1;
        obj_event_option_1.y1 = 10*32;
        obj_event_option_2.y1 = 11*32;
        obj_event_option_3.y1 = 12*32;
        if(global.event_part2){
            //Display the second part of the scenario
            depth = -1;
            draw_set_colour(c_white);
            draw_text(x1 + 32, y1 + 4*32 + 16, getEventTextPart2());
            obj_event_continue.visible = true;
        }
        break;
    case 2:
        //Wagon Lady
        draw_text(x1+32, y1+32, getEventText());
        //Only display if we have at least 10 food
        if(ds_list_find_value(global.resourceList, 2)&gt;= 10){
            obj_event_option_1.text = "The party trades 10 Food for 5 Parts.";
            obj_event_option_2.text = "The party trades 10 Food for 5 Med Kits.";
        }
        if(ds_list_find_value(global.resourceList, 0) &gt;= 5){
            obj_event_option_3.text = "The party trades 5 Parts for 3 Med Kits.";
        }
        obj_event_option_4.text = ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 1) + "'s feeling lucky and raises " + 
        getGenderedPosessive(ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 0), false) + " weapon." +
        '"Who' + "'" + 're you kidding, lady? Back away from#' + 
        'the wagon."';
        obj_event_option_4.charId = 0;
        obj_event_option_1.y1 = 10*32;
        obj_event_option_2.y1 = 11*32;
        obj_event_option_3.y1 = 12*32;
        obj_event_option_4.y1 = 13*32;
        if(global.event_part2){
            //Display the second part of the scenario
            depth = -1;
            draw_set_colour(c_white);
            draw_text(x1 + 32, y1 + 5*32, getEventTextPart2());
            obj_event_continue.visible = true;
        }
        break;
    case 3:
        //Box of heroin
        draw_text(x1+32, y1+32, getEventText());
        charname = ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 1)
        obj_event_option_1.text = charname + " tries to spit out the heroin.";
        obj_event_option_2.text = charname + " shrugs and swallows.";
        obj_event_option_1.charId = 0;
        obj_event_option_2.charId = 0;
        obj_event_option_1.y1 = 10*32;
        obj_event_option_2.y1 = 11*32;
        if(global.event_part2){
            //Display the second part of the scenario
            depth = -1;
            draw_set_colour(c_white);
            draw_text(x1 + 32, 10*32, getEventTextPart2());
            obj_event_continue.visible = true;
        }
        break;
    case 4:
        //Lightning
        draw_text(x1+32, y1+32, getEventText());
        obj_event_continue.visible = true;
        break;
    case 5:
        //Circus
        draw_text(x1+32, y1+32, getEventText());
        obj_event_option_1.text = ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 1) + " heads off in the direction of the big top.";
        obj_event_option_2.text = ds_list_find_value(ds_list_find_value(global.eventCharList, 1), 1) + " checks out the carnival booths.";
        obj_event_option_1.charId = 0;
        obj_event_option_2.charId = 1;
        obj_event_option_1.y1 = 13*32;
        obj_event_option_2.y1 = 14*32;
        if(global.event_part2){
            //Display the second part of the scenario
            depth = -1;
            draw_set_colour(c_white);
            draw_text(x1 + 32, 13*32, getEventTextPart2());
            obj_event_continue.visible = true;
        }
        break;
    case 6:
        //Forgotten Weapon
        draw_text(x1+32, y1+32, getEventText());
        char = ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 1);
        charposessive = getGenderedPosessive(ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 0), false);
        obj_event_option_1.text = "Have " + char + " go back on " + charposessive + " own, then hurry and catch up with the group.";
        obj_event_option_2.text = "Kill " + char + " for being an idiot.";
        obj_event_option_3.text = "Continue on, and hope " + char + " finds a weapon soon.";
        obj_event_option_1.charId = 0;
        obj_event_option_2.charId = 0;
        obj_event_option_3.charId = 0;
        obj_event_option_1.y1 = 10*32;
        obj_event_option_2.y1 = 11*32;
        obj_event_option_3.y1 = 12*32;
        if(global.event_part2){
            //Display the second part of the scenario
            depth = -1;
            draw_set_colour(c_white);
            draw_text(x1 + 32, 10*32, getEventTextPart2());
            obj_event_continue.visible = true;
        }
        break;
    case 7:
        //Found Weapon
        draw_text(x1+32, y1+32, getEventText());
        obj_event_continue.visible = true;
        break;
    case 8:
        //Library
        draw_text(x1+32, y1+32, getEventText());
        char1 = ds_list_find_value(ds_list_find_value(global.eventCharList, 0), 1);
        char2 = ds_list_find_value(ds_list_find_value(global.eventCharList, 1), 1);
        char3id = 0;
        //Event is not generated if we dont have at least 2 chars so this is safe
        if (ds_list_size(global.eventCharList) &gt; 2){
            char3id = 2;
        }
        char3 = ds_list_find_value(ds_list_find_value(global.eventCharList, char3id), 1);
        
        obj_event_option_1.text = char1 + " picks up a book on robotics.";
        obj_event_option_2.text = char2 + " swipes a first aid manual that's probably up to date.";
        obj_event_option_3.text = char3 + " finds an 80's military training manual.";
        obj_event_option_1.charId = 0;
        obj_event_option_2.charId = 1;
        obj_event_option_3.charId = char3id;
        obj_event_option_1.y1 = 13*32;
        obj_event_option_2.y1 = 14*32;
        obj_event_option_3.y1 = 15*32;
        if(global.event_part2){
            //Display the second part of the scenario
            depth = -1;
            draw_set_colour(c_white);
            draw_text(x1 + 32, 13*32, getEventTextPart2());
            obj_event_continue.visible = true;
        }
        
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
